[gd_scene load_steps=2 format=2]

[ext_resource path="res://addons/CruSModPackager-main/import_fetcher.gd" type="Script" id=1]

[node name="CruS Mod Packager" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 1 )

[node name="FileDialog" type="FileDialog" parent="."]
unique_name_in_owner = true
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -256.0
margin_top = -178.0
margin_right = 256.0
margin_bottom = 178.0
popup_exclusive = true
window_title = "Open a Directory"
resizable = true
mode = 2
show_hidden_files = true

[node name="FileDialog2" type="FileDialog" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -256.0
margin_top = -178.0
margin_right = 256.0
margin_bottom = 178.0
popup_exclusive = true
window_title = "Open a Directory"
resizable = true
mode = 2
access = 2
show_hidden_files = true

[node name="FileDialog3" type="FileDialog" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -256.0
margin_top = -178.0
margin_right = 256.0
margin_bottom = 178.0
popup_exclusive = true
window_title = "Open a Directory"
resizable = true
mode = 2
access = 2
show_hidden_files = true

[node name="FileDialog4" type="FileDialog" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -256.0
margin_top = -178.0
margin_right = 256.0
margin_bottom = 178.0
popup_exclusive = true
window_title = "Open a File"
resizable = true
mode = 0
show_hidden_files = true

[node name="FileDialog5" type="FileDialog" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -256.0
margin_top = -178.0
margin_right = 256.0
margin_bottom = 178.0
popup_exclusive = true
window_title = "Open a Directory"
resizable = true
mode = 2
access = 2
show_hidden_files = true

[node name="Popup" type="WindowDialog" parent="."]
margin_left = 116.0
margin_top = 103.0
margin_right = 1155.0
margin_bottom = 786.0
window_title = "CruS Mod Packager Help"
resizable = true

[node name="Label" type="RichTextLabel" parent="Popup"]
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3
bbcode_enabled = true
bbcode_text = "[center]A small guide that will help you with setting up the plugin.[/center]

First you need to enter:
	- Mod name
	- Author
	- Version
	- Description

Then you need to select the mod folder.
To do this, click on the browse button and navigate to your mod's folder. Your mod's folder should generally be in a folder named \"MOD_CONTENT\".

If your mod contains an init file, then you need to select it in the \"Init File\" field.
Otherwise, you can leave the field empty.

If you want the mod to be automatically archived in the mod.zip then you need to check the box next to \"Convert mod folder to .zip\"
(Currently only works on Windows).
If this option is not selected you will have to zip the files manually.

7-Zip path is an optional field in case you need to manually write the path to 7-Zip.
If mod does not pack automatically, then try to enter the path to 7-Zip manually.

Additional files is an optional field that will add files in the selected folder to the archive.
You can leave this field empty if you don't need to add remaps or other files.

\"Load CruS after packaging\" is responsible for launching the Cruelty Squad after packing the mod.
To do this, you need to select the path where the Cruelty Squad executable file is located.
For example: \"C:\\Program Files (x86)\\Steam\\steamapps\\common\\Cruelty Squad\"
(Currently only works on Windows).

That's all, now you can click the \"Pack\" button, after which your mod should appear in the mods folder.

Also, to avoid entering all the data every time, you can click on the \"Save\" button.
After that, you can click the \"Load\" button to load all the settings. Any saved data should also be automatically loaded when starting Godot.

[rainbow]Good luck <3[/rainbow]"
text = "A small guide that will help you with setting up the plugin.

First you need to enter:
	- Mod name
	- Author
	- Version
	- Description

Then you need to select the mod folder.
To do this, click on the browse button and navigate to your mod's folder. Your mod's folder should generally be in a folder named \"MOD_CONTENT\".

If your mod contains an init file, then you need to select it in the \"Init File\" field.
Otherwise, you can leave the field empty.

If you want the mod to be automatically archived in the mod.zip then you need to check the box next to \"Convert mod folder to .zip\"
(Currently only works on Windows).
If this option is not selected you will have to zip the files manually.

7-Zip path is an optional field in case you need to manually write the path to 7-Zip.
If mod does not pack automatically, then try to enter the path to 7-Zip manually.

Additional files is an optional field that will add files in the selected folder to the archive.
You can leave this field empty if you don't need to add remaps or other files.

\"Load CruS after packaging\" is responsible for launching the Cruelty Squad after packing the mod.
To do this, you need to select the path where the Cruelty Squad executable file is located.
For example: \"C:\\Program Files (x86)\\Steam\\steamapps\\common\\Cruelty Squad\"
(Currently only works on Windows).

That's all, now you can click the \"Pack\" button, after which your mod should appear in the mods folder.

Also, to avoid entering all the data every time, you can click on the \"Save\" button.
After that, you can click the \"Load\" button to load all the settings. Any saved data should also be automatically loaded when starting Godot.

Good luck <3"
__meta__ = {
"_edit_use_anchors_": true
}

[node name="TabContainer" type="TabContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
tab_align = 0

[node name="Mod Setup" type="Tabs" parent="TabContainer"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0

[node name="VBoxContainer" type="VBoxContainer" parent="TabContainer/Mod Setup"]
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_right = 1272.0
margin_bottom = 14.0
text = "Mod Info"
align = 1

[node name="Name" type="HBoxContainer" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 18.0
margin_right = 1272.0
margin_bottom = 42.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Mod Setup/VBoxContainer/Name"]
margin_top = 5.0
margin_right = 74.0
margin_bottom = 19.0
text = "Mod Name:"

[node name="ModName" type="LineEdit" parent="TabContainer/Mod Setup/VBoxContainer/Name"]
unique_name_in_owner = true
margin_left = 78.0
margin_right = 1272.0
margin_bottom = 24.0
rect_min_size = Vector2( 60, 0 )
size_flags_horizontal = 3
placeholder_text = "Your mod name here"

[node name="Author" type="HBoxContainer" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 46.0
margin_right = 1272.0
margin_bottom = 70.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Mod Setup/VBoxContainer/Author"]
margin_top = 5.0
margin_right = 62.0
margin_bottom = 19.0
text = "Author(s):"

[node name="ModAuthor" type="LineEdit" parent="TabContainer/Mod Setup/VBoxContainer/Author"]
unique_name_in_owner = true
margin_left = 66.0
margin_right = 1272.0
margin_bottom = 24.0
rect_min_size = Vector2( 60, 0 )
size_flags_horizontal = 3
placeholder_text = "Your name here"

[node name="Version" type="HBoxContainer" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 74.0
margin_right = 1272.0
margin_bottom = 98.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Mod Setup/VBoxContainer/Version"]
margin_top = 5.0
margin_right = 52.0
margin_bottom = 19.0
text = "Version:"

[node name="ModVersion" type="LineEdit" parent="TabContainer/Mod Setup/VBoxContainer/Version"]
unique_name_in_owner = true
margin_left = 56.0
margin_right = 1272.0
margin_bottom = 24.0
rect_min_size = Vector2( 60, 0 )
size_flags_horizontal = 3
placeholder_text = "1.0"

[node name="Description" type="HBoxContainer" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 102.0
margin_right = 1272.0
margin_bottom = 126.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Mod Setup/VBoxContainer/Description"]
margin_top = 5.0
margin_right = 78.0
margin_bottom = 19.0
text = "Description:"

[node name="ModDescription" type="LineEdit" parent="TabContainer/Mod Setup/VBoxContainer/Description"]
unique_name_in_owner = true
margin_left = 82.0
margin_right = 1272.0
margin_bottom = 24.0
rect_min_size = Vector2( 60, 0 )
size_flags_horizontal = 3
placeholder_text = "Description of your mod"

[node name="HSeparator3" type="HSeparator" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 130.0
margin_right = 1272.0
margin_bottom = 138.0
rect_min_size = Vector2( 0, 8 )

[node name="Label2" type="Label" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 142.0
margin_right = 1272.0
margin_bottom = 156.0
text = "Mod Paths"
align = 1

[node name="Path" type="HBoxContainer" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 160.0
margin_right = 1272.0
margin_bottom = 184.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Mod Setup/VBoxContainer/Path"]
margin_top = 5.0
margin_right = 80.0
margin_bottom = 19.0
text = "Mod Folder: "

[node name="FolderPath" type="LineEdit" parent="TabContainer/Mod Setup/VBoxContainer/Path"]
unique_name_in_owner = true
margin_left = 84.0
margin_right = 1209.0
margin_bottom = 24.0
rect_min_size = Vector2( 60, 0 )
size_flags_horizontal = 3

[node name="BrowseButton" type="Button" parent="TabContainer/Mod Setup/VBoxContainer/Path"]
margin_left = 1213.0
margin_right = 1272.0
margin_bottom = 24.0
text = "Browse"

[node name="Init" type="HBoxContainer" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 188.0
margin_right = 1272.0
margin_bottom = 212.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Mod Setup/VBoxContainer/Init"]
margin_top = 5.0
margin_right = 53.0
margin_bottom = 19.0
text = "Init File:"

[node name="InitPath" type="LineEdit" parent="TabContainer/Mod Setup/VBoxContainer/Init"]
unique_name_in_owner = true
margin_left = 57.0
margin_right = 1209.0
margin_bottom = 24.0
rect_min_size = Vector2( 60, 0 )
size_flags_horizontal = 3

[node name="BrowseButton" type="Button" parent="TabContainer/Mod Setup/VBoxContainer/Init"]
margin_left = 1213.0
margin_right = 1272.0
margin_bottom = 24.0
text = "Browse"

[node name="AdditionalFiles" type="HBoxContainer" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 216.0
margin_right = 1272.0
margin_bottom = 240.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Mod Setup/VBoxContainer/AdditionalFiles"]
margin_top = 5.0
margin_right = 103.0
margin_bottom = 19.0
text = "Additional Files:"

[node name="AdditionalFilesPath" type="LineEdit" parent="TabContainer/Mod Setup/VBoxContainer/AdditionalFiles"]
unique_name_in_owner = true
margin_left = 107.0
margin_right = 1209.0
margin_bottom = 24.0
rect_min_size = Vector2( 60, 0 )
size_flags_horizontal = 3

[node name="BrowseButton" type="Button" parent="TabContainer/Mod Setup/VBoxContainer/AdditionalFiles"]
margin_left = 1213.0
margin_right = 1272.0
margin_bottom = 24.0
text = "Browse"

[node name="HSeparator" type="HSeparator" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 244.0
margin_right = 1272.0
margin_bottom = 252.0
rect_min_size = Vector2( 0, 8 )

[node name="LaunchCrus" type="CheckBox" parent="TabContainer/Mod Setup/VBoxContainer"]
unique_name_in_owner = true
margin_top = 256.0
margin_right = 1272.0
margin_bottom = 280.0
pressed = true
text = "Load CruS after packaging"

[node name="CruSPath" type="HBoxContainer" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 284.0
margin_right = 1272.0
margin_bottom = 308.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Mod Setup/VBoxContainer/CruSPath"]
margin_top = 5.0
margin_right = 64.0
margin_bottom = 19.0
text = "CruS Path:"

[node name="CruSPath" type="LineEdit" parent="TabContainer/Mod Setup/VBoxContainer/CruSPath"]
unique_name_in_owner = true
margin_left = 68.0
margin_right = 1209.0
margin_bottom = 24.0
rect_min_size = Vector2( 60, 0 )
size_flags_horizontal = 3

[node name="BrowseButton" type="Button" parent="TabContainer/Mod Setup/VBoxContainer/CruSPath"]
margin_left = 1213.0
margin_right = 1272.0
margin_bottom = 24.0
text = "Browse"

[node name="HSeparator2" type="HSeparator" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 312.0
margin_right = 1272.0
margin_bottom = 320.0
rect_min_size = Vector2( 0, 8 )

[node name="Info" type="Label" parent="TabContainer/Mod Setup/VBoxContainer"]
unique_name_in_owner = true
modulate = Color( 0, 1, 0, 1 )
margin_top = 324.0
margin_right = 1272.0
margin_bottom = 338.0
align = 1

[node name="RunButton" type="Button" parent="TabContainer/Mod Setup/VBoxContainer"]
unique_name_in_owner = true
margin_top = 342.0
margin_right = 1272.0
margin_bottom = 362.0
text = "Pack"

[node name="Config" type="HBoxContainer" parent="TabContainer/Mod Setup/VBoxContainer"]
margin_top = 366.0
margin_right = 1272.0
margin_bottom = 386.0
size_flags_horizontal = 3

[node name="Button" type="Button" parent="TabContainer/Mod Setup/VBoxContainer/Config"]
margin_right = 315.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Save"

[node name="Button2" type="Button" parent="TabContainer/Mod Setup/VBoxContainer/Config"]
margin_left = 319.0
margin_right = 634.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Load"

[node name="DataFolder" type="Button" parent="TabContainer/Mod Setup/VBoxContainer/Config"]
margin_left = 638.0
margin_right = 953.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Open Data Folder"

[node name="Button3" type="Button" parent="TabContainer/Mod Setup/VBoxContainer/Config"]
margin_left = 957.0
margin_right = 1272.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Help"

[node name="Advanced Options" type="Tabs" parent="TabContainer"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0

[node name="VBoxContainer" type="VBoxContainer" parent="TabContainer/Advanced Options"]
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3

[node name="ArchiveModFolder" type="CheckBox" parent="TabContainer/Advanced Options/VBoxContainer"]
unique_name_in_owner = true
margin_right = 1272.0
margin_bottom = 24.0
hint_tooltip = "Require 7-Zip if you use Windows
(Don't work on other OS)"
pressed = true
text = "Convert mod folder to .zip"

[node name="SevenZip" type="HBoxContainer" parent="TabContainer/Advanced Options/VBoxContainer"]
margin_top = 28.0
margin_right = 1272.0
margin_bottom = 52.0
size_flags_horizontal = 3

[node name="Label" type="Label" parent="TabContainer/Advanced Options/VBoxContainer/SevenZip"]
margin_top = 5.0
margin_right = 69.0
margin_bottom = 19.0
text = "7-Zip Path:"

[node name="SevenZipPath" type="LineEdit" parent="TabContainer/Advanced Options/VBoxContainer/SevenZip"]
unique_name_in_owner = true
margin_left = 73.0
margin_right = 1209.0
margin_bottom = 24.0
rect_min_size = Vector2( 60, 0 )
size_flags_horizontal = 3
placeholder_text = "(Optional, 7-Zip is included)"

[node name="BrowseButton" type="Button" parent="TabContainer/Advanced Options/VBoxContainer/SevenZip"]
margin_left = 1213.0
margin_right = 1272.0
margin_bottom = 24.0
text = "Browse"

[node name="TrashModFolder" type="CheckBox" parent="TabContainer/Advanced Options/VBoxContainer"]
unique_name_in_owner = true
margin_top = 56.0
margin_right = 1272.0
margin_bottom = 80.0
hint_tooltip = "Require 7-Zip if you use Windows
(Don't work on other OS)"
text = "Move mod folder to the Recycle Bin"

[connection signal="dir_selected" from="FileDialog" to="." method="_on_FileDialog_dir_selected"]
[connection signal="dir_selected" from="FileDialog2" to="." method="_crus_folder_selected"]
[connection signal="dir_selected" from="FileDialog3" to="." method="_additional_files_folder_selected"]
[connection signal="file_selected" from="FileDialog4" to="." method="_init_file_selected"]
[connection signal="dir_selected" from="FileDialog5" to="." method="_sevenzip_folder_selected"]
[connection signal="text_entered" from="TabContainer/Mod Setup/VBoxContainer/Path/FolderPath" to="." method="_on_FolderPath_text_entered"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/Path/BrowseButton" to="." method="_on_BrowseButton_pressed"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/Path/BrowseButton" to="FileDialog" method="popup"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/Init/BrowseButton" to="FileDialog4" method="popup"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/AdditionalFiles/BrowseButton" to="FileDialog3" method="popup"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/CruSPath/BrowseButton" to="FileDialog2" method="popup"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/RunButton" to="." method="_on_RunButton_pressed"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/Config/Button" to="." method="_save_data"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/Config/Button2" to="." method="_load_data"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/Config/DataFolder" to="." method="_on_DataFolder_pressed"]
[connection signal="pressed" from="TabContainer/Mod Setup/VBoxContainer/Config/Button3" to="." method="_help_popup"]
[connection signal="pressed" from="TabContainer/Advanced Options/VBoxContainer/SevenZip/BrowseButton" to="FileDialog5" method="popup"]
